<ion-header [translucent]="true">
  <ion-toolbar>

    <ion-title>
      Shop Manager
    </ion-title>

    <ion-buttons slot="end">
      <ion-button (click)="addShop()">
        <ion-icon name="add"></ion-icon>
      </ion-button>
      <ion-button (click)="presentPopover($event)">
        <ion-icon name="ellipsis-vertical"></ion-icon>
      </ion-button>
    </ion-buttons>

  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div id="container" style="padding-bottom: 56px">
    <ion-toolbar>
      <ion-searchbar (ionChange)="findShop()" placeholder="Find your shop!" style="padding-bottom: 0;">
      </ion-searchbar>
    </ion-toolbar>

    <div id="shop-cards">
      <ion-card *ngFor="let shop of shops; let i = index;" button="true" (click)="openCard($event, i)">
        <img [src]="shop.img">
        <ion-card-header>
          <ion-card-title class="card-title">{{shop.name}}</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <div style="width: 80px">
            <ion-icon *ngFor="let star of shop.valutation" name="star" class="card-stars"></ion-icon>
          </div>
          <ion-chip color="primary" outline="true">
            <ion-icon name="call" style="margin: 0" (click)="callShop($event, i);"></ion-icon>
          </ion-chip>
          <div style="width: 80px; text-align: end;">
            <p class="card-open">{{isOpen(i)?'Now Open':'Closed'}}</p>
          </div>
        </ion-card-content>
      </ion-card>
    </div>

    <ion-list id="shop-list">
      <ion-item *ngFor="let shop of shops; let i = index;" href="#">
        <ion-avatar slot="start"><img [src]="shop.img"></ion-avatar>
        <ion-label>{{shop.name}}</ion-label>
        <ion-icon *ngFor="let star of shop.valutation" name="star" class="card-stars" style="font-size: 16px;">
        </ion-icon>
      </ion-item>
    </ion-list>
  </div>
</ion-content>