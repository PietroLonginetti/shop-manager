<ion-header>
  <ion-toolbar>
    <ion-grid style="padding: 5px 15px">
      <ion-row style="align-items: center; flex-wrap: nowrap; justify-content: space-between;">
        <div style="display: flex; align-items: center; max-width: 65%;">
          <span style="margin: 0 1rem 0 5px;">Name:</span>
          <form class="active-form" [formGroup]="formCtrl" (focusout)="validateInput($event.target, 'name')">
            <ion-input formControlName="name" type="text" (ionInput)="this.modified = true"
              placeholder="Insert product name">
            </ion-input>
          </form>
        </div>
        <ion-buttons>
          <ion-button id="discard-btn" (click)="discardAlert()">
            <ion-icon name="close" color="sintra-danger" style="font-size: x-large;"></ion-icon>
          </ion-button>
          <ion-button (click)="confirmAlert()">
            <ion-icon name="checkmark" color="primary" style="font-size: x-large;"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-row>
    </ion-grid>
  </ion-toolbar>

</ion-header>

<ion-content>
  <div style="margin: 0.8rem 5px 2rem;">
    <div style="display: flex; align-items: center; margin-left: 15px;">
      <span>Pictures:</span>
      <ion-button class="add" fill="clear">
        <ion-icon name="add"></ion-icon>
      </ion-button>
    </div>
    <ion-reorder-group (ionItemReorder)="reorderImgs($event)" disabled="false" lines="none">
      <ion-item *ngFor="let img of modifications.imgs; let imgId = index" id="slide{{imgId}}"
        style="--inner-border-width: 0;">
        <ion-badge slot="start" color="medium">{{imgId + 1}}</ion-badge>
        <img class="reorderable-img" [src]="img">
        <ion-button fill="clear" color="sintra-danger" style="font-size: inherit;" (click)="deletePhoto(imgId)">
          <ion-icon name="remove"></ion-icon>
        </ion-button>
        <ion-reorder slot="end"></ion-reorder>
      </ion-item>
    </ion-reorder-group>
  </div>

  <ion-grid class="main-grid">
    <ion-row>
      <ion-col size="3">ID:</ion-col>
      <ion-col size="9">
        <form [formGroup]="formCtrl" (focusout)="validateInput($event.target, 'id')">
          <ion-input formControlName="id" type="text" (ionInput)="this.modified = true"
            placeholder="Insert identificator"></ion-input>
        </form>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="3">Price:</ion-col>
      <ion-col size="9">
        <form class="active-form" [formGroup]="formCtrl" (focusout)="validateInput($event.target, 'price')"
          style="display: flex; align-items: center;">
          <ion-input formControlName="price" type="number" (ionInput)="this.modified = true"
            placeholder="Insert product price" [value]="priceToDisplay"></ion-input>
            <div style="margin: 0 2.4rem 0 1rem;">{{currency}}</div>
        </form>
      </ion-col>
    </ion-row>
    <ion-row>
      <h6 style="margin: 1.6rem 5px 0">Description:</h6>
      <ion-col size="12">
        <form class="active-form" [formGroup]="formCtrl" style="width: 100%;">
          <ion-textarea formControlName="description" autoGrow (ionInput)="this.modified = true" 
            (ionBlur)="updateDescription($event)"></ion-textarea>
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-button *ngIf="mode === 'edit'" (click)="deleteAlert()" expand="full" fill="clear" color="sintra-danger"
  style="margin: 1.5rem 0 0">
  Delete this product</ion-button>
 
</ion-content>
